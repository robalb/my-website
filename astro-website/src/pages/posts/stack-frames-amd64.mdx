---
layout: '../../layouts/BlogPost.astro'
title: stack frames, visualized
publishDate: 2024-02-18
description: 
tags: ['amd64']
permalink: https://halb.it/posts/the-story-of-the-frog-puzzle/
---
import Picture from '../../components/Picture.astro'
import SliderHexdump from '../../components/SliderHexdump.svelte'
import Registers from '../../components/Registers.svelte'

You may have learned that data in a program is either stored in the heap or in the stack.

A processor moves data around, and performs logical or mathematical operations on it.
Data can be in only 2 places: 
- in memory, which means in your RAM
- in registers, which are special containers inside your CPU

### memory

Let's start by undertanding memory. In principle it's very simple, it's just a very long list of
contiguos cells, each containing 8 bits of information, and reachable by a numeric address.

Since printing a long list of bytes would take a lot of space, we usually group bytes in rows of 8 or 16.
You can play with these different visualizations by adjusting the slider for this example data:

<SliderHexdump
  client:load 
  showAscii={false}
  data={[
  80, 97, 103, 101, 32, 110, 111, 116, 32, 102, 111, 117, 110, 100, 127, 0, 0, 0, 0, 0, 0, 0, 0, 0, 233, 81, 85, 85, 85, 85, 0, 0, 64, 220, 255, 255, 1, 0, 0, 0, 88, 220, 255, 255, 255, 127, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 232, 4, 190, 18, 120, 233, 111, 224, 88, 220, 255, 255, 255, 127, 0, 0, 233, 81, 85, 85, 85, 85, 0, 0, 152, 125, 85, 85, 85, 85, 0, 0, 64, 208, 255, 247, 255, 127, 0, 0, 232, 4, 28, 164, 135, 22, 144, 31,
  232, 4, 52, 40, 253, 6, 144, 31, 0, 0, 0, 0, 255, 127, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 66, 158, 135, 93, 202, 47, 126, 0, 0, 0, 0, 0, 0, 0, 0, 64, 158, 194, 247, 255, 127, 0, 0, 104, 220, 255, 255, 255, 127, 0, 0, 152, 125, 85, 85, 85, 85, 0, 0, 224, 226, 255, 247, 255, 127, 0, 0, 0, 0, 0, 0,
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 81, 85, 85, 85, 85, 0, 0 
  ]}
  sliderStart={0} />

### registers

Registers are quickly accessible containers inside your CPU.
Usually, there is a limited amount of registers, each with an associated name.

On amd64 we mostly interact with these registers:

<Picture src="amd64-regs-dark" height={300} alt="" />

<Registers />

